{
  "version": 3,
  "sources": ["../../../../../lambda/courses/list/index.ts"],
  "sourcesContent": ["import { APIGatewayProxyEvent, APIGatewayProxyResult } from 'aws-lambda';\nimport { DynamoDBClient } from '@aws-sdk/client-dynamodb';\nimport { DynamoDBDocumentClient, QueryCommand } from '@aws-sdk/lib-dynamodb';\n\nconst dynamoClient = new DynamoDBClient({\n  region: process.env.AWS_REGION || 'us-east-1',\n  ...(process.env.STAGE === 'local' && {\n    endpoint: 'http://localhost:8000',\n    credentials: {\n      accessKeyId: 'local',\n      secretAccessKey: 'local',\n    },\n  }),\n});\n\nconst docClient = DynamoDBDocumentClient.from(dynamoClient);\n\nexport const handler = async (\n  event: APIGatewayProxyEvent\n): Promise<APIGatewayProxyResult> => {\n  try {\n    console.log('Event:', JSON.stringify(event, null, 2));\n\n    const { category, limit = '20', lastKey } = event.queryStringParameters || {};\n\n    // For now, return test data\n    const response = {\n      courses: [\n        {\n          courseId: 'course-1',\n          title: 'Test Course 1',\n          description: 'This is a test course',\n          instructor: 'Test Instructor',\n          price: 99.99,\n          thumbnail: 'https://via.placeholder.com/400x300',\n        },\n        {\n          courseId: 'course-2',\n          title: 'Test Course 2',\n          description: 'Another test course',\n          instructor: 'Test Instructor',\n          price: 49.99,\n          thumbnail: 'https://via.placeholder.com/400x300',\n        },\n      ],\n      pagination: {\n        total: 2,\n        limit: parseInt(limit),\n        hasMore: false,\n      },\n    };\n\n    return {\n      statusCode: 200,\n      headers: {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Credentials': true,\n      },\n      body: JSON.stringify(response),\n    };\n  } catch (error) {\n    console.error('Error:', error);\n\n    return {\n      statusCode: 500,\n      headers: {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Credentials': true,\n      },\n      body: JSON.stringify({\n        error: 'Internal server error',\n        message: error instanceof Error ? error.message : 'Unknown error',\n      }),\n    };\n  }\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,6BAA+B;AAC/B,0BAAqD;AAErD,IAAM,eAAe,IAAI,sCAAe;AAAA,EACtC,QAAQ,QAAQ,IAAI,cAAc;AAAA,EAClC,GAAI,QAAQ,IAAI,UAAU,WAAW;AAAA,IACnC,UAAU;AAAA,IACV,aAAa;AAAA,MACX,aAAa;AAAA,MACb,iBAAiB;AAAA,IACnB;AAAA,EACF;AACF,CAAC;AAED,IAAM,YAAY,2CAAuB,KAAK,YAAY;AAEnD,IAAM,UAAU,OACrB,UACmC;AACnC,MAAI;AACF,YAAQ,IAAI,UAAU,KAAK,UAAU,OAAO,MAAM,CAAC,CAAC;AAEpD,UAAM,EAAE,UAAU,QAAQ,MAAM,QAAQ,IAAI,MAAM,yBAAyB,CAAC;AAG5E,UAAM,WAAW;AAAA,MACf,SAAS;AAAA,QACP;AAAA,UACE,UAAU;AAAA,UACV,OAAO;AAAA,UACP,aAAa;AAAA,UACb,YAAY;AAAA,UACZ,OAAO;AAAA,UACP,WAAW;AAAA,QACb;AAAA,QACA;AAAA,UACE,UAAU;AAAA,UACV,OAAO;AAAA,UACP,aAAa;AAAA,UACb,YAAY;AAAA,UACZ,OAAO;AAAA,UACP,WAAW;AAAA,QACb;AAAA,MACF;AAAA,MACA,YAAY;AAAA,QACV,OAAO;AAAA,QACP,OAAO,SAAS,KAAK;AAAA,QACrB,SAAS;AAAA,MACX;AAAA,IACF;AAEA,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,SAAS;AAAA,QACP,gBAAgB;AAAA,QAChB,+BAA+B;AAAA,QAC/B,oCAAoC;AAAA,MACtC;AAAA,MACA,MAAM,KAAK,UAAU,QAAQ;AAAA,IAC/B;AAAA,EACF,SAAS,OAAO;AACd,YAAQ,MAAM,UAAU,KAAK;AAE7B,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,SAAS;AAAA,QACP,gBAAgB;AAAA,QAChB,+BAA+B;AAAA,QAC/B,oCAAoC;AAAA,MACtC;AAAA,MACA,MAAM,KAAK,UAAU;AAAA,QACnB,OAAO;AAAA,QACP,SAAS,iBAAiB,QAAQ,MAAM,UAAU;AAAA,MACpD,CAAC;AAAA,IACH;AAAA,EACF;AACF;",
  "names": []
}
